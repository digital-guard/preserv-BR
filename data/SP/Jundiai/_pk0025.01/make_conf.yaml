pack_id: 25.1
pkversion: 001
schemaId_input:    ref027a  # ID do JSON-schema de input, ref no primeiro template a usar este padrão de input.
schemaId_template: ref027a  # ID do makefile.mustache, ref no primeiro package a usar o template.
need_commands:    7z psql shp2pgsql
codec:descr_encode: srid=31983

files:
- file: 4c4a1565e1f7d5675ff2d546d0e6a85acd7bbaa018503601dd07e1be80dee130.zip
  name: Lotes
  p: 1
- file: 062c98c3fc074c76a5ff8d1bb3ad97b120d4a60d2e75c835fd6ff096f466da58.zip
  name: Eixos
  p: 2
- file: 512fe4c44525a211c68415da0ab06d565a6ba3653739809d46404d6653ce5064.zip
  name: Edificações
  p: 3
- file: 7995d41f628e31599f80b367650d363f47e75e1515be9fefabefca91189608a5.zip
  name: Bairros
  p: 4

layers:
  parcel:
    subtype: none
    method: shp2sql
    file: 1
    sql_select: ['gid']
    orig_filename: lotes_jund

  via:
    subtype: full
    method: shp2sql
    file: 2
    sql_select: [
      [ 'fromleft', 'toleft', 'fromright', 'toright', 'codlogr' ],
      [ 'Codigo_do_', 'REGEXP_REPLACE(logrtotal, "[[:space:]]+", " ") as via'],
      [ 'name as via' ]
      ]
    orig_filename: ['logradouro','v_logr_ortofoto','L_8683-2016_m12_vias_func_urbanistica']

  building:
    subtype: none
    method: shp2sql
    file: 3
    sql_select: ['gid'] 
    orig_filename: edificacoes

  nsvia:
    subtype: full
    method: shp2sql
    file: 4
    sql_select: ['nmbairro as nsvia','populacao']
    orig_filename: v_bairros_populacao
    codec: SHP~Latin1
